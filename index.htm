<!doctype html>
<!--[if lt IE 7]><html class="no-js ie6 oldie" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js ie7 oldie" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js ie8 oldie" lang="en"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en" xmlns:fb="http://ogp.me/ns/fb#"><!--<![endif]-->
<head>
    <base href="http://www.tastewineco.com/pages/event-calendar/">

  <link rel="shortcut icon" href="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/fav32.png?13687564031507708646" type="image/png" />
  <meta charset="utf-8" />
  <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' /><![endif]-->

  <title>
  Event Calendar &ndash; TasteWineCo
  </title>

  
  <meta name="description" content="" />
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <link rel="canonical" href="http://www.tastewineco.com/pages/event-calendar" /> 

  


  <meta property="og:type" content="website" />
  <meta property="og:title" content="Event Calendar" />
  
    <meta property="og:image" content="http://cdn.shopify.com/s/files/1/0774/9409/t/2/assets/logo.png?13687564031507708646" />
    <meta property="og:image" content="https://cdn.shopify.com/s/files/1/0774/9409/t/2/assets/logo.png?13687564031507708646" />
  



<meta property="og:description" content="" />

<meta property="og:url" content="http://www.tastewineco.com/pages/event-calendar" />
<meta property="og:site_name" content="TasteWineCo" />
  
 


  <link href="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/normalize.css?13687564031507708646" rel="stylesheet" type="text/css" media="all" />
  <link href="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/bootstrap.css?13687564031507708646" rel="stylesheet" type="text/css" media="all" />
  <link href="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/site.css?13687564031507708646" rel="stylesheet" type="text/css" media="all" />
  
  
  <!-- Include FontAwesome CSS if you want to use feedback icons provided by FontAwesome -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/fontawesome/4.1.0/css/font-awesome.min.css" />
  <!-- BootstrapValidator CSS --> 
  <link href="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/formValidation.min.css?13687564031507708646" rel="stylesheet" type="text/css" media="all" />
  
  <link href="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/bootstrap-select.min.css?13687564031507708646" rel="stylesheet" type="text/css" media="all" />
  <link href="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/jquery.Jcrop.min.css?13687564031507708646" rel="stylesheet" type="text/css" media="all" />
  <link href="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/elementTransitions.css?13687564031507708646" rel="stylesheet" type="text/css" media="all" />
  <link href="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/perfect-scrollbar.min.css?13687564031507708646" rel="stylesheet" type="text/css" media="all" />
  
  
  
  
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Cabin:300,400,700">
  
  
  <link href='//fonts.googleapis.com/css?family=Montserrat:400,700|Sanchez:400italic,400&subset=latin,latin-ext' rel='stylesheet' type='text/css'>	
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/html5shiv.js?13687564031507708646" type="text/javascript"></script>

  <script>
//<![CDATA[
      var Shopify = Shopify || {};
      Shopify.shop = "taste-wine.myshopify.com";
      Shopify.theme = {"name":"tastewineco-main-theme","id":10816580,"theme_store_id":null,"role":"main"};

//]]>
</script>


<script>
//<![CDATA[
    (function() {
      function asyncLoad() {
        var urls = ["https:\/\/dow068lag04cv.cloudfront.net\/6972-b461214b4a77346de1b6d5ba48f50386.js?shop=taste-wine.myshopify.com"];
        for (var i = 0; i < urls.length; i++) {
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.async = true;
          s.src = urls[i];
          var x = document.getElementsByTagName('script')[0];
          x.parentNode.insertBefore(s, x);
        }
      }
      window.attachEvent ? window.attachEvent('onload', asyncLoad) : window.addEventListener('load', asyncLoad, false);
    })();

//]]>
</script>
<script id="__st">
//<![CDATA[
var __st={"a":7749409,"offset":-14400,"reqid":"61ab00f3-1c6b-42a6-95b0-5f13cb821f65","pageurl":"www.tastewineco.com\/pages\/event-calendar","s":"pages-92181957","u":"c8824ecc199b","p":"page","rtyp":"page","rid":92181957};
//]]>
</script>
<script>
//<![CDATA[
      (function() {
        var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
        s.src = '//cdn.shopify.com/s/javascripts/shopify_stats.js?v=6';
        var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);
      })();

//]]>
</script>
<script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    var _gaUTrackerOptions = {'allowLinker': true};ga('create', 'UA-62579937-1', 'auto', _gaUTrackerOptions);ga('send', 'pageview');
      (function(){
        ga('require', 'linker');
        function addListener(element, type, callback) {
          if (element.addEventListener) {
            element.addEventListener(type, callback);
          }
          else if (element.attachEvent) {
            element.attachEvent('on' + type, callback);
          }
        }
        function decorate(event) {
          event = event || window.event;
          var target = event.target || event.srcElement;
          if (target && (target.action || target.href)) {
            ga(function (tracker) {
              var linkerParam = tracker.get('linkerParam');
              document.cookie = '_shopify_ga=' + linkerParam + '; ' + 'path=/';
            });
          }
        }
        addListener(window, 'load', function(){
          for (var i=0; i<document.forms.length; i++) {
            if(document.forms[i].action && document.forms[i].action.indexOf('/cart') >= 0) {
              addListener(document.forms[i], 'submit', decorate);
            }
          }
          for (var i=0; i<document.links.length; i++) {
            if(document.links[i].href && document.links[i].href.indexOf('/checkout') >= 0) {
              addListener(document.links[i], 'click', decorate);
            }
          }
        })
      }());
    </script><script src="//cdn.shopify.com/s/assets/themes_support/ga_urchin_forms-668547562549a84f5dfa01ef82607987f85ecbe1c8301faf25059becfa208199.js" defer="defer"></script>
      <script type="text/javascript">
        
      window.ShopifyAnalytics = window.ShopifyAnalytics || {};
      window.ShopifyAnalytics.meta = window.ShopifyAnalytics.meta || {};
      window.ShopifyAnalytics.meta.currency = 'USD';
      var meta = {};
      for (var attr in meta) {
        window.ShopifyAnalytics.meta[attr] = meta[attr];
      }
    
      </script>

      <script type="text/javascript">
        window.ShopifyAnalytics.merchantGoogleAnalytics = function() {
          
        };
      </script>

      <script type="text/javascript" class="analytics">
        
        
        (function () {
          var customDocumentWrite = function(content) {
            var jquery = null;

            if (window.jQuery) {
              jquery = window.jQuery;
            } else if (window.Checkout && window.Checkout.$) {
              jquery = window.Checkout.$;
            }

            if (jquery) {
              jquery('body').append(content);
            }
          };

          var analytics = document.createElement('script');
          var loaded = false;
          var onload = function() {
            if (loaded) return;
            loaded = true;
            window.ShopifyAnalytics.lib = window.trekkie.noConflict();
            window.ShopifyAnalytics.lib.initialize(
              {"Trekkie":{"appName":"storefront","environment":"production","defaultAttributes":{"shopId":7749409}},"Performance":{"navigationTimingApiMeasurementsEnabled":true,"navigationTimingApiMeasurementsSampleRate":0.001}}
            );

            window.ShopifyAnalytics.lib.ready(function() {
              

              var originalDocumentWrite = document.write;
              document.write = customDocumentWrite;
              try { window.ShopifyAnalytics.merchantGoogleAnalytics.call(this); } catch(error) {};
              document.write = originalDocumentWrite;

              
        window.ShopifyAnalytics.lib.page(
          null,
          {"pageType":"page","resourceType":"page","resourceId":92181957}
        );
      
              
            });
          }
          analytics.onload = onload;
          analytics.onreadystatechange = function() {
            if (!/complete|loaded/.test(analytics.readyState)) return;
            onload();
          }
          analytics.async = true;
          analytics.src = 'https://cdn.shopify.com/s/javascripts/trekkie.storefront.min.js?v=2016.09.01.1';
          document.getElementsByTagName('head')[0].appendChild(analytics);
          
      var eventsListenerScript = document.createElement('script');
      eventsListenerScript.async = true;
      eventsListenerScript.src = "//cdn.shopify.com/s/assets/shop_events_listener-91b4691a5a0a9b8881b8d482fa57139c6710eb703344a18c284e80917fc3ddbf.js";
      document.getElementsByTagName('head')[0].appendChild(eventsListenerScript);
    
        })();
      </script>
    
<meta id="in-context-paypal-metadata" data-merchant-id="info@tastewineco.com" data-environment="production" data-locale="en_US" data-redirect-url="/cart/redirect_to_paypal_express" data-sdk-url="//www.paypalobjects.com/api/checkout.js" />
<script src="//cdn.shopify.com/s/assets/storefront/express_buttons-60ada56db97201cd8ce6338b9b601bb6f730cf10005dba4ee49bb7b26b5dd145.js" defer="defer" crossorigin="anonymous"></script>


<link rel="stylesheet" media="all" href="//cdn.shopify.com/s/assets/storefront/additional-checkout-buttons-49b75a0d9fbe657cdeebdb5d3fa39b8cafcb8ab82fb64485edd93329f4399d4e.css" />

  <style type="text/css">html {  padding-top:0px; } body { position:relative;} </style>
  
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/jQuery.XDomainRequest.js?13687564031507708646" type="text/javascript"></script>

  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/jquery-migrate-1.2.0.min.js?13687564031507708646" type="text/javascript"></script>
  
  <script src="//cdn.shopify.com/s/assets/themes_support/option_selection-f3dd7ba25bddfb6b0fe9addc0cae11dc709eeb6a469ec7f66f49e3abc4ce8c81.js" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/assets/themes_support/api.jquery-b90ee9a5604bc68b2f4a3af86b4551207834575e264152eac4822d0b60e0c0d5.js" type="text/javascript"></script>
  
  

  
  
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/jquery.flipbook.js?13687564031507708646" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/scripts.js?13687564031507708646" type="text/javascript"></script>
  
 
  
  
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/global.js?13687564031507708646" type="text/javascript"></script>
  
  
  <script type="text/javascript">
    
    
  		
	
  </script>
  
  
  
  <!-- Google Analytics -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62579937-1', 'auto');
  ga('send', 'pageview');

  </script>
  <!-- End Google Analytics -->
  
  
</head>

<body>
    <!--Global dialogs-->
    <div class="loadingIndicator modal" role="dialog">
      <div class='modal-dialog'>
         <div class="loadingContent">
           <img class="img-spinner" src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/Spinner_0000.png?13687564031507708646" alt="loading..." />
        </div>
      </div>
    </div>
  
  	<!-- end dialogs -->
    <!-- Begin Header -->
    <div class="header-wrapper navbar navbar-default" role="navigation">
      	<div class="tool-bar">
        	
            <div class="row">
                <div class="col-sm-4">
                    
                    <div class="logo">

                        
                        <a href="/"><img src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/logo.png?13687564031507708646" alt="TasteWineCo" /></a>
                        
                        
                    </div> 
                </div>
              
              <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" 
                            data-target="#main-navbar-collapse">
                      <span class="sr-only">Toggle navigation</span>
                      <span class="toggle-icon"></span>
                      <span class="toggle-text">Menu</span>
                      <span class="toggle-text-collapsed">Close</span>
                    </button>

              </div>
                <div class="col-sm-8 links-row">
                   <div class="row">
                     
                    	<div class="nav-links navbar-collapse collapse" id="main-navbar-collapse">
                            <div class="header-menu">
                                <div class="links">
                                                                    
                                    
                                    <div class="">
                                        <ul class="list-unstyled">
                                          
                                          
                                          
                                          
                                          
                                          <li class="dropdown">
                                            <a href="/pages/wines" class="">
                                              <span>Wines</span></a>
                                          </li>
                                          
                                          
                                          
                                          
                                          
                                          
                                          <li class="dropdown">
                                            <a href="/blogs/blog" class="">
                                              <span>Blog</span></a>
                                          </li>
                                          
                                          
                                          
                                          
                                          	  <li class="dropdown search-wrapper">
                                                <a href="#" class="dropdown-toggle search-title" data-toggle="dropdown">Search</a>
                                                <ul class="dropdown-menu list-unstyled sub-menu not-logged vw-640" id="searchMenu">
                                                  <li>
                                                    <form method="get" action="/pages/search-results">
                                                      <div class="row">
                                                        <input class="search-text" type="text" name="q" />
                                                        <button type="submit" class="btn-search" aria-label="Search"/>
                                                           
                                                      </div>
                                                    </form>      	  
                                                  </li>
                                                </ul>
                                             </li>

                                            <li id="cart-target" class="toolbar-cart "><span class="icon-cart"></span><a href="/cart" class="cart" title="Shopping Cart">Cart <span id="cart-count">(0)</span></a></li>
                                          
                                          
                                          
                                          <li class="dropdown">
                                            <a href="/pages/event-calendar" class=" current">
                                              <span>Event Calendar</span></a>
                                          </li>
                                          
                                          
                                          
                                          
                                        </ul>
                                    </div>
                                    
                                 
                                </div>
                            </div>
                            <div class="header-menu-right">
                                <div class="user-links">

                                    
                                        <div class="profile-menu not-logged">
                                          <ul class="list-unstyled">
                                            <li><a href="/account/login" id="customer_login_link">Sign in</a></li>
                                            <li><a href="/account/register" id="customer_register_link">Sign up</a></li>
                                          </ul>
                                        </div>
                                    
                                 
                                </div>
                            </div>
                        </div>
                     
                    </div>
                </div>
            </div>
		</div>
    	
	</div>
	<!-- End Header -->
  	<!-- Begin Content -->
    <div class="content-wrapper">
        <div class="container">
            <div > 
               
              	<section id="content">
                    <div id="page" class="row">
  <div class="aboutus-content">
    <div class="title row">
      <p>Event Calendar</p>
    </div>
  </div>
  <div class="aboutus-text-content">
    <div class="row">
      <div class="text-content">


<style>
.event-div {
  padding: 15px;
  margin-bottom: 10px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
  transition: all 0.3s cubic-bezier(.25,.8,.25,1);
}

.event-div:hover {
  box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
  cursor: pointer;
}

.event-title {
  color: black;
}

.event-date {
  color: #555;
}

.event-place {
  margin-top: 10px;
  color: black;
}

.event-btn {
  float: right;
}

.event-btn a {
  color: white;
}

#map {
  width: 100%;
  height: 300px;
}

#event-details {
  width: 100%;
  padding: 10px;
}

.modal-header {
  background: #fff;
  padding: 15px;
  border-bottom: 1px solid #e5e5e5;
}

.modal-header .close {
  margin-top: -12px;
}

.close {
  font-size: 40px;
  font-weight: lighter;;
  margin-top: -12px;
}

.modal-header .modal-title {
  text-transform: none;
  font-size: 20px;
  color: #222;
  font-weight: lighter;
}

.modal .modal-footer {
  text-align: right;
}

</style>
  
  <!-- Modal -->
  <div id="eventModal" class="modal" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Event Details</h4>
        </div>
        <div class="modal-body">
          <div id="event-details">
          </div>
          <div id="map">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
        </div>
      </div>

    </div>
  </div>  


	<script id="planaby_embed" data-userid="481" async>
      var json, map;
      
      (function () {
        var element = document.getElementById('planaby_embed');
        var xmlhttp = new XMLHttpRequest();
        var user_id = element.getAttribute('data-userid');
        var user_url = 'http://ec.planaby.com/woman/ra/Person/' + user_id + '/upcoming.json';
        xmlhttp.open("GET", user_url , true);
        xmlhttp.send();
        xmlhttp.onreadystatechange = function(){
          if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
              var div = document.createElement('div');
              json = JSON.parse(xmlhttp.responseText);
              for (var i = 0, len = json.length; i < len; ++i) {
                   var event = json[i];
                   div.innerHTML += "<div id=\"" + event.id + "\" class='event-div' onclick='fetchEvent(" + i + ")'> <div class=\"event-title\">" + event.title + "<div  class='event-date'>" + tempRenderEventDate(event) + "</div></div><div  class='row'><p id='date'></div>";
              }
              element.parentNode.insertBefore(div, element);
          }
        }

      })();

      function fetchEvent(index) {
        event = json[index];
        console.log(event);
        
        var div = document.createElement('div');
        var detailsDiv = document.getElementById('event-details');
        
        var eDes = "<div class=\"event-title\">" + event.title + 
          "<div  class='event-date'>" + tempRenderEventDate(event) + 
          "</div><div  class='row'><p id='date'></div>";
          
        var addToCalendarButton = "<button type=\"button\" class=\"btn btn-primary event-btn\"><a href=\"http://calendar.google.com/calendar/event?" +
          "action=TEMPLATE" +
          "&text=" + event.title +
          "&dates=" + (new Date(event.startDate)).toISOString().replace(/-|:|\.\d\d\d/g,"") + "/" + (new Date(event.endDate)).toISOString().replace(/-|:|\.\d\d\d/g,"") +
          "&location=" + event.venue.title + ", " + event.venue.address + ", " + event.venue.city +
          "&ctz=America/New_York\" " +
          "target=\"_blank\" rel=\"nofollow\">Add to Calendar</a></button>";
          
        var eLoc = "<div class='event-place'>" + event.venue.title + ", " +
        event.venue.address + ", " + event.venue.city + "</div>";
        
        div.innerHTML = eDes + addToCalendarButton + eLoc;
        detailsDiv.innerHTML = "";
        detailsDiv.appendChild(div);
        
        $("#eventModal").modal();
        
        // Clear old markers
        initMap();
        
        var loc = { lat: event.venue.lat, lng: event.venue.lon };
        
        var marker = new google.maps.Marker({
          position: loc,
          map: map
        });

        
        map.setCenter(loc);
        map.setZoom(15);
        
      }
      
      
      function initMap() {
        var loc = {lat: 41.850033, lng: -87.6500523};
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 3,
          center: loc
        });
      }

      function preRender (planbyRes, fn) {
          var a = planbyRes
              .map( function( x ){
                  x.sqrUrl = "https://api.foursquare.com/v2/venues/"
                      + x.venue.href
                      + "/photos?client_id="
                      + "3VP3I5GBBN2QYD3BOYR51TP23Y3AKLXZVJD0V5I3BDTB5F1Y" 
                      + "&client_secret=" 
                      + "K0O3U1CXVASLSIZZKG4OPQK4J5OJR3AM1LVYOKIVQXRTCYZF" 
                      + "&v=20160731";
                  return x
              })
              .map( function (x, index, a) {
                  $.ajax({
                      type: "GET",
                      url: x.sqrUrl,
                      dataType: 'json',
                      success: function(result){
                          x.imgsPath = result.response.photos.items.map(function(i){
                              return i.prefix + '640x640' + i.suffix
                          })
                          fn(x, index, a.length);
                      },
                      error: function(whatever){}
                  })
                  return 'whatever';
              });
      }


      function renderPage(result) {
          result.map(function(event){
              renderTotalEvent(event);
              $('#bodyarea').append($('.hidden').html());     
          }); 
      }

      function renderTotalEvent(value) {
          //console.log(value);
          renderevent-div(value);
          renderEventPhotos(value);
      }

      function renderEventPhotos(result) {
          if(result.imgsPath.length === 0){
              $('#bigImg').attr('src', src = null);
              $('#img0').attr('src', src = null);
              $('#img1').attr('src', src = null);
              $('#img2').attr('src', src = null);
              $('#img3').attr('src', src = null);
              $('#img4').attr('src', src = null);
          }else{
              $('#bigImg').attr('src', src = result.imgsPath[0]);
              $('#img0').attr('src', src = result.imgsPath[1]);
              $('#img1').attr('src', src = result.imgsPath[2]);
              $('#img2').attr('src', src = result.imgsPath[3]);
              $('#img3').attr('src', src = result.imgsPath[4]);
              $('#img4').attr('src', src = result.imgsPath[5]);
              
          }
          
          $('#postlink').attr('href', href= '/event/' + result.id);
          /*
          document.getElementById("bigImg").src=result.imgs[0];
          document.getElementById("img0").src=result.imgs[1];
          document.getElementById("img1").src=result.imgs[2];
          document.getElementById("img2").src=result.imgs[3];
          document.getElementById("img3").src=result.imgs[4];
          document.getElementById("img4").src=result.imgs[5];
          //*/
      }

      var todaySpent = false;
      var tomorrowSpent = false;
      var weekendSpent = false;
      var nextWeekendSpent = false;

      function renderEventDetails(value) {
          $('#detailLink').data('eventID', value.id);
          $('#title').html(value.title);
          $('#daymark').html("");

          if (isToday(value.startDate) && !todaySpent){
          	$('#daymark').html("Today");
          	todaySpent = true;
          }
          else if (isTomorrow(value.startDate) && !tomorrowSpent){
          	$('#daymark').html("Tomorrow");
          	tomorrowSpent = true;
          }
          else if (isThisWeekend(value.startDate) && !weekendSpent){
          	$('#daymark').html("This Weekend");
          	weekendSpent = true;
          }
          else if (isNextWeekend(value.startDate) && !nextWeekendSpent){
              $('#daymark').html("Next Weekend");
              nextWeekendSpent = true;
          }
          //$('#daymark').html(dateDiffInDays(value.startDate)); //FOR TESTING
          var addy = "";
          if (value.venue && value.venue.address) {
              addy = ' ' + value.venue.address;
              $('#address').html('<strong>' + value.venue.title + addy + '</strong>');
          $("a.addressLink").attr("href", "https://www.google.com/maps/dir/+/"+ value.venue.title + addy +"/");
          }

          


          renderEventDate(value);
          $('#status').html(justTime(value.startDate, value.endDate));
      }



      function renderEventDate(value) {
           
          //dateDiffInDays(value.startDate);
           
          if (isOver(value)){
              $('#date').html("Ended :-(").css({
                  "color": "red"
              });
          }
          else if (isToday(value.startDate)) {

              if(isOngoing(value)){
                  $('#date').html("Now until ").append(endTime(value.endDate)).css({
                      "color": "green"
                  });
               }else{/////////////its happening later today///////////

                  if(isTonight(value)){
                      $('#date').html("Tonight").css({
                      "color": "green"
                      }).append(" ").append(justTime(value.startDate, value.endDate));
                  }
                  else{
                      $('#date').html("Today").css({
                      "color": "green"
                      }).append(" ").append(justTime(value.startDate, value.endDate));
                  }
                  
              }

          } 
          else if (isTomorrow(value.startDate)) {
              $('#date').html("Tomorrow  ").css({
                  "color": "gray"
              }).append(justTime(value.startDate, value.endDate));
          }
          else if (isLessThanOneWeek(value.startDate)) {   /////////////Within the week but not today or tommrow///////////
              var dayOfWeek = getDayName(value.startDate);
              $('#date').html(dayOfWeek + " " + justTime(value.startDate, value.endDate)).css({
                  "color": "gray"
              });
          }
          else if (MoreThanOrEqualToOneWeekLessThanTwoWeeks(value.startDate)){ //LongestFunctionNameEver!
              var dayOfWeek = getDayName(value.startDate);
              $('#date').html("Next " + dayOfWeek + " " + justTime(value.startDate, value.endDate)).css({
                  "color": "gray"
              });
          }
          else if (InLessThanSixMonth(value.startDate)){ /////////////More than a week but within the next month///////////
              var dayOfWeek = getDayName(value.startDate);
              $('#date').html(dayOfWeek + ", " +OneDay(value.startDate)+" at "+ justTime(value.startDate, value.endDate)).css({
                  "color": "black"
              });
          }
          else {                                       /////////////More than a month///////////
              //This still needs to be done
              var dayOfWeek = getDayName(value.startDate);
              $('#date').html(dayOfWeek + ", " + OneDay(value.startDate) + ", " + justYear(value.startDate) + ", at "+ justTime(value.startDate, value.endDate)).css({
                  "color": "black"
              });
          }


      }

      function tempRenderEventDate(value){
          
          if (isOver(value)){
              return "ended";
          }
          else if (isToday(value.startDate)) {

              if(isOngoing(value)){
                  return ("Now until ") + (endTime(value.endDate));
               }else{/////////////its happening later today///////////

                  if(isTonight(value)){
                      return ("Tonight ") + (justTime(value.startDate, value.endDate));
                  }
                  else{
                      return ("Today ") + (justTime(value.startDate, value.endDate));
                  }
                  
              }

          } 
          else if (isTomorrow(value.startDate)) {
              return ("Tomorrow ") + justTime(value.startDate, value.endDate);
          }
          else if (isLessThanOneWeek(value.startDate)) {   /////////////Within the week but not today or tommrow///////////
              var dayOfWeek = getDayName(value.startDate);
              return (dayOfWeek + " " + justTime(value.startDate, value.endDate))
          }
          else if (MoreThanOrEqualToOneWeekLessThanTwoWeeks(value.startDate)){ //LongestFunctionNameEver!
              var dayOfWeek = getDayName(value.startDate);
              return ("Next " + dayOfWeek + " " + justTime(value.startDate, value.endDate));
          }
          else if (InLessThanSixMonth(value.startDate)){ /////////////More than a week but within the next month///////////
              var dayOfWeek = getDayName(value.startDate);
              return (dayOfWeek + ", " +OneDay(value.startDate)+" at "+ justTime(value.startDate, value.endDate));
          }
          else {                                       /////////////More than a month///////////
              //This still needs to be done
              var dayOfWeek = getDayName(value.startDate);
              return (dayOfWeek + ", " + OneDay(value.startDate) + ", " + justYear(value.startDate) + ", at "+ justTime(value.startDate, value.endDate));
          }
      }


      //Function to check if its an all day event
      function isAllDayEvent(result) {
        return result.allDay;
      }

      //Function to check if event is over
      function isOverEvent(result) {
        var eventEndDate = new Date(result.endDate);
        var todaysDate = new Date();
        return eventEndDate < todaysDate;
      }

      //Function to check if event is ongoiong
      function isOngoing(result){
        var todaysDate = Date.parse(new Date(), "yyyy-MM-dd");
        var eventStartDate = Date.parse(result.startDate, "yyyy-MM-dd");
        var eventEndDate = Date.parse(result.endDate, "yyyy-MM-dd");
        return eventStartDate <= todaysDate && eventEndDate >= todaysDate;
      }

      function isOver(result){
        var todaysDate = Date.parse(new Date(), "yyyy-MM-dd");
        var eventStartDate = Date.parse(result.startDate, "yyyy-MM-dd");
        var eventEndDate = Date.parse(result.endDate, "yyyy-MM-dd");
        var eventEndTime = 0;
        var nowTime = 0;
        return  (eventEndDate < todaysDate) || (eventEndDate === todaysDate && (eventEndTime<nowTime));
      }

      function OneDayEvent(result) {
          if (result.startDate == result.endDate) {
              return true;
          }
          return false;
      }





      //Function to get event date
      function getDate(date){
        var d = new Date(date);
        return d.toLocaleDateString();
      }
      //prettify date
      function writeDate(resultDate) {
          var date = new Date(resultDate);
          var month = getMonthName(date);
          var dayOfMonth = date.getDate();
          var full = month + ' ' + dayOfMonth;
          full += writeYear(date);
          return full;
      }
      //if event is in a year or more, specify year
      function writeYear(date) {
          var today = new Date();
          var yearString = '';
          var year = new Date();
          year.setMonth(year.getMonth() + 11);
          console.log('in a year:  ' + year);
          if (date >= year) {
              var year = date.getFullYear();
              yearString += ', ' + year;
          }
          return yearString;
      }
      function getTime(date){
        var t = new Date(date);
        return t.toLocaleTimeString(navigator.language, {hour: '2-digit', minute:'2-digit'});
      }
      function getMonthName(date){
        var d = new Date(date);
        var month = new Array();
        month[0] = "Jan.";
        month[1] = "Feb.";
        month[2] = "Mar.";
        month[3] = "Apr.";
        month[4] = "May";
        month[5] = "Jun.";
        month[6] = "Jul.";
        month[7] = "Aug.";
        month[8] = "Sep.";
        month[9] = "Oct.";
        month[10] = "Nov.";
        month[11] = "Dec.";
        return month[d.getMonth()];
      }
      function getDayName(date){
        var d = new Date(date);
        var weekday = new Array(7);
        weekday[0]=  "Sunday";
        weekday[1] = "Monday";
        weekday[2] = "Tuesday";
        weekday[3] = "Wednesday";
        weekday[4] = "Thursday";
        weekday[5] = "Friday";
        weekday[6] = "Saturday";
        return weekday[d.getDay()];
      }




      function TodayIsFriday(){
        var today = new Date();
        var todaysName = getDayName(today);
        return (todaysName==="Friday");
      }
      function TodayIsSaturday(){
        var today = new Date();
        var todaysName = getDayName(today);
        return (todaysName==="Saturday");
      }
      function TodayIsSunday(){
        var today = new Date();
        var todaysName = getDayName(today);
        return (todaysName==="Sunday");
      }

      function TodayIsAWeekend(){
        return (TodayIsSaturday()||TodayIsSunday()||TodayIsFriday());
      }
      function TodayIsAWeekday(){
        return !(TodayIsAWeekend());
      }



      function EventIsOnAFriday(date){
        var eventDay = new Date(date);
        var eventDayName = getDayName(eventDay);
        return (eventDayName==="Friday");
      }
      function EventIsOnASaturday(date){
        var eventDay = new Date(date);
        var eventDayName = getDayName(eventDay);
        return (eventDayName==="Saturday");
      }
      function EventIsOnASunday(date){
        var eventDay = new Date(date);
        var eventDayName = getDayName(eventDay);
        return (eventDayName==="Sunday");
      }

      function EventIsOnAWeekend(date){
        return (EventIsOnASaturday(date)||EventIsOnASunday(date)||EventIsOnAFriday(date));
      }
      function EventIsOnAWeekday(date){
        return !(EventIsOnAWeekend());
      }




      var _MS_PER_DAY = 1000 * 60 * 60 * 24;
      function dateDiffInDays(date) {
        var a = new Date();
        var b = new Date(date);
        var utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());
        var utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());
        //alert(Math.floor((utc2 - utc1) / _MS_PER_DAY));
        return Math.floor((utc2 - utc1) / _MS_PER_DAY);
      }
      function InFiveDaysOrLess(date) {
        if (dateDiffInDays(date) <= 4) {
          return true;
        }
        return false;
      }
      function isLessThanOneWeek(date) { 
        if (dateDiffInDays(date) < 7) {
          return true;
        }
        return false;
      }
      function MoreThanOrEqualToOneWeekLessThanTwoWeeks(date){  
        if (dateDiffInDays(date) < 14 && dateDiffInDays(date) >= 5 ) {
          return true;
        }
        return false;
      }
      function InLessThanSixMonth(date){
        if (dateDiffInDays(date) < 180) {
          return true;
        }
        return false;
      }






      //Function to check if event is today
      function isToday(date) {
        var todaysDate = new Date();
        var eventDate = new Date(date);
        todaysDate = todaysDate.toLocaleDateString();
        eventDate = eventDate.toLocaleDateString();
        return eventDate === todaysDate;
      }
      //Function to check if event is tonight
      function isTonight(result){
          var eventDate = new Date(result.startDate);
          var hour = eventDate.getHours();
          return hour >= 18;
      }
      //Function to check if event is tomorrow
      function isTomorrow(date) {
        var todaysDate = new Date();
        var tomorrowsDate = new Date();
        tomorrowsDate.setDate(todaysDate.getDate() + 1);
        var eventDate = new Date(date);
        eventDate = eventDate.toLocaleDateString();
        tomorrowsDate = tomorrowsDate.toLocaleDateString();
        return eventDate === tomorrowsDate ;
      }

      //Function to check if event is this weekend
      function isThisWeekend(date) {
        return EventIsOnAWeekend(date) && InFiveDaysOrLess(date) && TodayIsAWeekday();
      }

      //Function to check if event is this weekend
      function isNextWeekend(date) {
        return EventIsOnAWeekend(date)  &&  MoreThanOrEqualToOneWeekLessThanTwoWeeks(date);
      }






      function getFakeTestResults(result){

        var today =  new Date();

        $.each(result, function(key, value) {
              //value.startDate =today.getDate()+1;
              //today.setDate(today.getDate()+1); 
              alert(value.startDate);

        });

        return result;

      }






      //Function to return start and end time of event 
      function justTime(startDate, endDate){
      	var start = getTime(startDate).replace(" EDT", "").replace("12:00 PM","Noon").replace("12:00 AM","Midnight").replace(":00","");
      	var end = getTime(endDate).replace(" EDT", "").replace("12:00 PM","Noon").replace("12:00 AM","Midnight").replace(":00","");
      	return start + " to " + end;
      }

      function endTime(endDate){
      	var end = getTime(endDate).replace(" EDT", "").replace("12:00 PM","Noon").replace("12:00 AM","Midnight").replace(":00","");
      	return end;
      }

      //Function to return start and end date of event
      function justDate(startDate, endDate){
      	//var start = getDate(startDate);
          //var end = getDate(endDate);
          var start = writeDate(startDate);
          var end = writeDate(endDate);
      	return start + " - " + end;
      }

      function OneDay(startDate) {
          var start = writeDate(startDate);
          return start;
      }

      function justYear(startDate) {
      	var d = new Date(startDate);
          var start = d.getFullYear();
          //alert(start);
          return start;

      }


      /*


      //Function to return start and end date of event
      function justDate(startDate, endDate){
      	//var start = getDate(startDate);
          //var end = getDate(endDate);
          var start = writeDate(startDate);
          var end = writeDate(endDate);
      	return start + " - " + end;
      }

      //Function to return pretty date of event
      function prettyDate(date){
          var prettyDate = writeDate(date);
      	return prettyDate;
      }

      //Function to return pretty date and time of event
      function prettyDateAndTime(date){
      	var time = getTime(date).replace(" EDT", "");
      	var prettyDate = writeDate(date);
      	var dayName = getDayName(date);
          return dayName + ", " +prettyDate + " - " + time;
      }

      //function to return date and time
      function dateAndTime(startDate, endDate){
      	var startTime = getTime(startDate).replace(" EDT", "");
      	var endTime = getTime(endDate).replace(" EDT", "");
      	var startDate = writeDate(startDate);
          var endDate = writeDate(endDate);
          return startDate + ", " + startTime + " - " + endDate + ", " + endTime;
      }

      //function to return start and end time of event
      function prettyEventTime(value){
      	var startTime = justTime(value.startDate);
      	var endTime = justTime(value.endDate);
      	return startTime + " - " + endTime;
      }

      //Function to return pretty one day event
      function OneDay(value) {
          var dateAndTime = prettyDateAndTime(value.startDate);
          var endTime = justTime(value.endDate);
          return dateAndTime + " - " + endTime;
      }

      function justYear(startDate) {
      	var d = new Date(startDate);
          var start = d.getFullYear();
          //alert(start);
          return start;

      }
      */

  
  
  </script>
      
  <!-- Google Maps API -->    
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDtUCJJaLUPkqvk4iWtF28QY8DSJr1UjYg">
  </script>
  

	<!--

	<p><iframe src="https://calendar.google.com/calendar/embed?src=tastewineco%40gmail.com&amp;ctz=America/New_York" style="border: 0;" width="800" height="600" frameborder="0" scrolling="no"></iframe></p>

	--!>
      </div>
    </div>
  </div>
 
  
</div>
                </section>
              
              
            </div>
        </div>
    </div>
  	<!-- End content-->
  	<!-- Begin pre-footer -->
    <div class="pre-footer-wrapper">
        <div class="apps-section yellow-border">
          
        </div>
        <div class="apps-section">
            <div class="social-icons">
              
               <div class="social-icons-wrapper">
                 
                   <a href="https://www.facebook.com/pages/Taste-Wine-Company/1095073200520142" title="TasteWineCo on Facebook" class="icon-social facebook" target="_blank">  
                     <img id="facebook-icon" src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/Footer_FacebookInactive.png?13687564031507708646" alt="Facebook" />
                   </a>
                 
                 
                 
                   <a href="http://twitter.com/TasteWineCo" title="TasteWineCo on twitter" class="icon-social twitter"  target="_blank">  
                     <img id="twitter-icon" src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/Footer_TwitterInactive.png?13687564031507708646" alt="Twitter" />
                   </a>
                 
                 
                 
                   <a href="https://plus.google.com/113294683661470390696" title="TasteWineCo on Google+" class="icon-social googleplus" target="_blank">  
                     <img id="googleplus-icon" src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/Footer_GooglePlusInactive.png?13687564031507708646" alt="Google+" />
                   </a>
                 
                 
                 
                   <a href="http://pinterest.com/TasteWineCo" title="TasteWineCo on Google+" class="icon-social pinterest" target="_blank">  
                     <img id="pinterest-icon" src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/Footer_PinterestInactive.png?13687564031507708646" alt="Pinterest" />
                   </a>
                 
                 
              </div>
            </div>
        </div>
  	</div>
    <!-- Begin pre-footer -->
    <!-- Begin footer -->
    <div class="footer-wrapper">
      
     
      
        <div class="footer-content">
            <div class="logo">
                
                <a href="/">
                  <img src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/Footer_TWCLogoWithText.png?13687564031507708646" alt="TasteWineCo" class="logo_big" />
                  <img src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/Footer_TWCLogo640.png?13687564031507708646" alt="TasteWineCo" class="logo_small" />
                 </a>
                
                
            </div>
          <div class="footer-location">
            <p>50 Third Ave NY, NY - 212.461.1708</p>
          </div>
          	
            <div class="footer-links">
              
              	
              	 
                <!-- Begin footer navigation -->
                <ul class="list-unstyled">
                    
                    <li><a href="/pages/about-us" title="About Us">About Us</a></li>
                    
                    <li><a href="/pages/contact-us" title="Contact Us">Contact Us</a></li>
                    
                    <li><a href="/pages/terms-of-service" title="Terms of Service">Terms of Service</a></li>
                    
                    <li><a href="/pages/delivery-shipping" title="Delivery & Shipping">Delivery & Shipping</a></li>
                    
                    <li><a href="/pages/faq" title="FAQ">FAQ</a></li>
                    
                    <li><a href="/pages/privacy-policy" title="Privacy">Privacy</a></li>
                    
                </ul>
                <!-- End footer navigation -->
                
                 
              
            </div>
        </div>
      
    </div>
    <!-- End footer -->

  
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/bootstrap.min.js?13687564031507708646" type="text/javascript"></script>
  <!-- Include Bootstrap-select JS -->
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/bootstrap-select.min.js?13687564031507708646" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/jquery.Jcrop.min.js?13687564031507708646" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/jquery.flexslider-min.js?13687564031507708646" type="text/javascript"></script>
  
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/jquery.tweet.js?13687564031507708646" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/jquery.fancybox.js?13687564031507708646" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/bootbox.min.js?13687564031507708646" type="text/javascript"></script>
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/perfect-scrollbar.min.js?13687564031507708646" type="text/javascript"></script>
  
  <!-- Bootstrap CSS -->
    
    
  <!-- BootstrapValidator JS -->
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/formValidation.min.js?13687564031507708646" type="text/javascript"></script>  
  <script src="//cdn.shopify.com/s/files/1/0774/9409/t/2/assets/formValidation.bootstrap.min.js?13687564031507708646" type="text/javascript"></script>  
   
  
  
  
 
  
  
  
  
  
  

   
  
  

  
  
  
  
  
  
  	
  
    
  <div class="iframe-cookies">
    <iframe id="iframe-tmp" src=""/>
  </div>
  
  
</body>
</html>
